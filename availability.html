<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Availability â€“ Elliot Wardill Mobile Music Lessons</title>
  <link rel="icon" href="/favicon.png" type="image/png" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "brand-dark-bg": "#1a1a2e",
            "brand-accent-light": "#00d084",
            "brand-accent-dark": "#00a36e",
            "brand-text-light": "#e0e0e0",
            "brand-text-mid": "#a0e0e0",
            "brand-highlight": "#ffb703",
            "card-bg": "#252538",
          },
          fontFamily: {
            sans: ["Inter", "sans-serif"],
            heading: ["Montserrat", "sans-serif"],
          },
        },
      },
    };
  </script>

  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Montserrat:wght@700;800;900&display=swap");

    body {
      font-family: "Inter", sans-serif;
      background-color: #1a1a2e;
      background-image: radial-gradient(
        circle at 100% 100%,
        #252538 0%,
        #1a1a2e 70%
      );
      color: #e0e0e0;
    }

    .card-glow {
      box-shadow: 0 10px 30px rgba(0, 208, 132, 0.12),
        0 3px 10px rgba(0, 0, 0, 0.6);
    }

    .hover-lift {
      transition: transform 0.25s ease, box-shadow 0.25s ease,
        border-color 0.2s ease, background-color 0.2s ease;
    }

    .hover-lift:hover {
      transform: translateY(-4px);
    }

    .main-hero-shadow {
      text-shadow: 0 0 16px rgba(0, 208, 132, 0.4);
    }

    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .reveal.delayed-1 {
      transition-delay: 0.12s;
    }

    .reveal.delayed-2 {
      transition-delay: 0.18s;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      padding: 0.2rem 0.7rem;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .timeline-dot {
      width: 0.7rem;
      height: 0.7rem;
      border-radius: 999px;
    }

    .timeline-line {
      flex: 1;
      height: 2px;
      opacity: 0.5;
    }
  </style>

  <!-- Lucide Icons -->
  <script type="module">
    import {
      createIcons,
      Clock,
      Calendar,
      MapPin,
      Mail,
      Phone,
      AlertTriangle,
    } from "https://cdn.jsdelivr.net/npm/lucide@latest/dist/esm/lucide.js";

    createIcons({
      icons: { Clock, Calendar, MapPin, Mail, Phone, AlertTriangle },
    });
  </script>

  <script defer src="./cookie-banner.js?v=2"></script>

</head>
<body class="min-h-screen flex flex-col text-brand-text-light">
<!-- NAVIGATION (matches home & pricing) -->
<nav
  class="bg-brand-dark-bg/90 backdrop-blur border-b border-brand-accent-dark/40 text-white sticky top-0 z-50"
>
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <a href="index.html" class="flex items-center space-x-2">
        <span
          class="inline-flex items-center justify-center w-9 h-9 rounded-full bg-brand-accent-light/10 border border-brand-accent-light/50"
        >
          <!-- Fixed inline icon so it always shows -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="w-5 h-5 text-brand-accent-light"
          >
            <circle cx="8" cy="18" r="4"></circle>
            <path d="M12 18V2l7 4"></path>
          </svg>
        </span>
        <span
          class="text-sm sm:text-base font-heading font-extrabold tracking-[0.18em] text-brand-highlight"
        >
          ELLIOT'S MOBILE MUSIC
        </span>
      </a>

      <!-- Desktop nav -->
            <div class="hidden sm:flex sm:space-x-4 text-xs md:text-sm">
                <a href="index.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                    HOME
                </a>
                <a href="pricing.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                  PRICING & FEES
                </a>
               
              <a href="availability.html" class="border-b-2 border-brand-accent-light text-brand-accent-light px-3 py-2 font-medium hover-lift">
                    AVAILABILITY
               </a>

                  <a href="school-band-programme.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                   SCHOOL BANDS
                </a>
                
                <a href="contact.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                    CONTACT
                </a>

                <!-- ðŸ”¥ LOGIN BUTTON (desktop) -->
                <a
                    href="login.html"
                    class="ml-2 px-4 py-2 rounded-lg font-bold text-brand-dark-bg bg-brand-accent-light
                           hover:bg-brand-accent-dark transition duration-200 shadow-md shadow-brand-accent-light/40 hover-lift"
                >
                    LOGIN
                </a>
            </div>

            <!-- Mobile button -->
            <div class="sm:hidden">
                <button id="mobile-menu-button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-gray-300 hover:text-white hover:bg-brand-accent-dark focus:outline-none focus:ring-2 focus:ring-white">
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile menu -->
    <div class="sm:hidden hidden" id="mobile-menu">
        <div class="pt-2 pb-3 space-y-1 px-3 text-sm">
            <a href="index.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">HOME</a>
            <a href="pricing.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">PRICING & FEES</a>
            <a href="availability.html" class="block rounded-md bg-brand-accent-dark text-white px-3 py-2 font-medium">AVAILABILITY</a>
            <a href="schhol-band-programme.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">SCHOOL BANDS</a>
            <a href="contact.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">CONTACT</a>

            <!-- ðŸ”¥ LOGIN BUTTON (mobile) -->
            <a
                href="login.html"
                class="block rounded-md bg-brand-accent-light text-brand-dark-bg font-bold px-3 py-2 mt-1 text-center"
            >
                LOGIN
            </a>
        </div>
    </div>
</nav>

  <!-- MAIN -->
  <main class="flex-grow">
    <!-- HERO -->
    <section
      class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 sm:pt-24 pb-10"
    >
      <div class="text-center max-w-3xl mx-auto mb-10 reveal">
        <p
          class="text-xs font-semibold tracking-[0.25em] text-brand-highlight mb-3 uppercase"
        >
          LIVE, TRAVEL-AWARE EVENINGS
        </p>
        <h1
          class="font-heading text-4xl sm:text-5xl lg:text-6xl font-extrabold text-brand-text-light main-hero-shadow mb-4"
        >
          Current Availability
        </h1>
        <p class="text-base sm:text-lg text-brand-text-mid max-w-2xl mx-auto">
          These times take into account
          <strong>existing students, travel from LS28</strong>, and realistic
          driving between lessons. Only slots that genuinely work are shown.
        </p>
      </div>

      <!-- Quick highlight row -->
      <div
        class="grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-4xl mx-auto reveal delayed-1"
      >
        <div
          class="flex items-center justify-center gap-2 text-xs sm:text-sm text-brand-text-mid bg-card-bg/80 rounded-xl px-4 py-3 border border-brand-accent-dark/50"
        >
          <i
            data-lucide="clock"
            class="w-4 h-4 text-brand-accent-light"
          ></i>
          <span>Core teaching window: <strong>Tueâ€“Thu, 6â€“9pm</strong></span>
        </div>
        <div
          class="flex items-center justify-center gap-2 text-xs sm:text-sm text-brand-text-mid bg-card-bg/80 rounded-xl px-4 py-3 border border-brand-accent-dark/50"
        >
          <i
            data-lucide="calendar"
            class="w-4 h-4 text-brand-accent-light"
          ></i>
          <span>Travel time built into <strong>busy</strong> periods</span>
        </div>
        <div
          class="flex items-center justify-center gap-2 text-xs sm:text-sm text-brand-text-mid bg-card-bg/80 rounded-xl px-4 py-3 border border-brand-accent-dark/50"
        >
          <i data-lucide="map-pin" class="w-4 h-4 text-brand-highlight"></i>
          <span>Based from <strong>Pudsey (LS28)</strong></span>
        </div>
      </div>

      <!-- NEXT AVAILABLE SUMMARY -->
      <div class="max-w-3xl mx-auto mt-8 reveal delayed-2">
        <div
          class="bg-card-bg/90 rounded-2xl card-glow border border-brand-accent-dark/60 p-5 sm:p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"
        >
          <div>
            <p
              class="text-[0.7rem] font-semibold tracking-[0.16em] uppercase text-brand-text-mid mb-1"
            >
              NEXT REALISTIC SLOT
            </p>
            <p
              id="next-available-text"
              class="text-base sm:text-lg text-brand-text-light"
            >
              Calculating your next best slotâ€¦
            </p>
          </div>
          <a
            href="contact.html"
            class="inline-flex items-center justify-center px-4 py-2.5 rounded-lg bg-brand-accent-light text-brand-dark-bg text-xs sm:text-sm font-semibold hover:bg-brand-accent-dark transform hover:scale-[1.02] transition"
          >
            <i data-lucide="mail" class="w-4 h-4 mr-2"></i>
            Enquire about this time
          </a>
        </div>
      </div>
    </section>

    <!-- TIMELINE CARDS (travel-aware) -->
    <section
      class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-20 space-y-8 reveal"
    >
      <div class="flex items-center justify-between gap-3 mb-2">
        <h2
          class="font-heading text-2xl sm:text-3xl font-bold text-brand-accent-light flex items-center gap-2"
        >
          Weekly travel-aware timetable
        </h2>
        <span
          class="badge bg-brand-accent-light/10 text-brand-accent-light border border-brand-accent-light/40"
        >
          AUTO-CALCULATED
        </span>
      </div>
      <p class="text-xs sm:text-sm text-brand-text-mid max-w-3xl">
        Each evening shows a clear breakdown of
        <span class="text-brand-accent-light font-semibold">available</span>
        and <span class="text-brand-highlight font-semibold">busy</span> times,
        including driving to and from students. Only blocks of
        <strong>30 minutes or longer</strong> are offered as lessons.
      </p>

      <!-- Tuesday -->
      <article
        class="bg-card-bg/90 rounded-2xl card-glow border border-brand-accent-dark/60 p-5 sm:p-6"
      >
        <header class="flex items-center justify-between mb-4">
          <div>
            <h3
              class="font-heading text-xl sm:text-2xl font-bold text-brand-text-light"
            >
              Tuesday Evenings
            </h3>
            <p class="text-xs sm:text-sm text-brand-text-mid">
              Includes travel from LS28 to an out-of-area lesson and back.
            </p>
          </div>
          <span
            class="badge bg-brand-highlight/10 text-brand-highlight border border-brand-highlight/40"
          >
            TRAVEL HEAVY
          </span>
        </header>

        <div class="space-y-3 text-xs sm:text-sm" id="tuesday-slots">
          <!-- Filled by JS -->
        </div>
      </article>

      <!-- Wednesday -->
      <article
        class="bg-card-bg/90 rounded-2xl card-glow border border-brand-accent-dark/60 p-5 sm:p-6"
      >
        <header class="flex items-center justify-between mb-4">
          <div>
            <h3
              class="font-heading text-xl sm:text-2xl font-bold text-brand-text-light"
            >
              Wednesday Evenings
            </h3>
            <p class="text-xs sm:text-sm text-brand-text-mid">
              Multiple nearby lessons, with realistic travel between homes.
            </p>
          </div>
          <span
            class="badge bg-brand-accent-light/10 text-brand-accent-light border border-brand-accent-light/40"
          >
            LOCAL ROUTE
          </span>
        </header>

        <div class="space-y-3 text-xs sm:text-sm" id="wednesday-slots">
          <!-- Filled by JS -->
        </div>
      </article>

      <!-- Thursday -->
      <article
        class="bg-card-bg/90 rounded-2xl card-glow border border-brand-accent-dark/60 p-5 sm:p-6"
      >
        <header class="flex items-center justify-between mb-4">
          <div>
            <h3
              class="font-heading text-xl sm:text-2xl font-bold text-brand-text-light"
            >
              Thursday Evenings
            </h3>
            <p class="text-xs sm:text-sm text-brand-text-mid">
              Overlapping lessons handled safely â€“ you only see realistic slots.
            </p>
          </div>
          <span
            class="badge bg-brand-highlight/10 text-brand-highlight border border-brand-highlight/40"
          >
            BUSY EVENING
          </span>
        </header>

        <div class="space-y-3 text-xs sm:text-sm" id="thursday-slots">
          <!-- Filled by JS -->
        </div>
      </article>
    </section>

    <!-- WEEKEND / OTHER DAYS -->
    <section
      class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-24 reveal delayed-1"
    >
      <div
        class="grid grid-cols-1 lg:grid-cols-[1.1fr_minmax(0,0.9fr)] gap-8 lg:gap-10"
      >
        <div
          class="bg-card-bg/90 rounded-2xl card-glow border-l-4 border-brand-highlight border border-brand-accent-dark/60 p-5 sm:p-6"
        >
          <h2
            class="font-heading text-2xl sm:text-3xl font-bold text-brand-accent-light mb-3 flex items-center gap-2"
          >
            <i
              data-lucide="calendar"
              class="w-6 h-6 text-brand-highlight"
            ></i>
            Weekends & Other Days
          </h2>
          <ul class="list-disc ml-5 space-y-2 text-xs sm:text-sm text-brand-text-mid">
            <li>
              <strong>Saturday & Sunday:</strong> occasionally available
              <strong>by request</strong> during daytime or early evenings.
            </li>
            <li>
              <strong>Monday & Friday:</strong> currently unavailable for weekly
              lessons due to other commitments.
            </li>
            <li>
              During school holidays, extra daytime slots may open â€“ you can ask
              about these on the contact page.
            </li>
          </ul>
        </div>

        <div
          class="bg-card-bg/90 rounded-2xl card-glow border border-brand-accent-dark/60 p-5 sm:p-6 flex flex-col justify-between gap-4"
        >
          <div class="flex items-start gap-3">
            <i
              data-lucide="alert-triangle"
              class="w-5 h-5 text-brand-highlight mt-0.5"
            ></i>
            <p class="text-xs sm:text-sm text-brand-text-mid">
              <strong class="text-brand-highlight">Important:</strong> All
              availability is a guide and is based on regular students and
              travel routes from Pudsey. Times may shift slightly if routes or
              lesson times change, but youâ€™ll always receive a clear confirmed
              time before any booking is final.
            </p>
          </div>
          <div class="text-xs sm:text-sm text-brand-text-mid">
            <p class="mb-2">
              To enquire about one of the available slots, please use the
              contact page and mention:
            </p>
            <ul class="list-disc ml-5 space-y-1">
              <li>Your preferred day and time window</li>
              <li>Your area/postcode (for travel planning)</li>
              <li>Whether itâ€™s for piano, singing, or both</li>
            </ul>
          </div>
          <div class="flex flex-wrap gap-3 mt-2">
            <a
              href="contact.html"
              class="inline-flex items-center justify-center px-4 py-2.5 rounded-lg bg-brand-accent-light text-brand-dark-bg text-xs sm:text-sm font-semibold hover:bg-brand-accent-dark transform hover:scale-[1.02] transition"
            >
              <i data-lucide="mail" class="w-4 h-4 mr-2"></i>
              Go to contact page
            </a>
            <div class="flex flex-col text-[0.7rem] text-brand-text-mid">
              <span class="flex items-center">
                <i data-lucide="phone" class="w-3 h-3 mr-1"></i>
                <a href="tel:07368975144" class="hover:text-white"
                  >07368 975144</a
                >
              </span>
              <span class="flex items-center mt-1">
                <i data-lucide="mail" class="w-3 h-3 mr-1"></i>
                <a
                  href="mailto:elliotmobilemusic@gmail.com"
                  class="hover:text-white"
                  >elliotmobilemusic@gmail.com</a
                >
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
<footer class="bg-gray-900 text-brand-text-mid py-7 mt-2">
  <div class="max-w-6xl mx-auto px-4 text-center text-xs sm:text-sm">
    <p>&copy; 2026 Elliot Wardill Mobile Music Lessons. All rights reserved.</p>
    <p class="mt-1 text-gray-500">
      DBS Checked &amp; Insured. Programme details are confirmed with schools during setup.
    </p>

    <!-- ADD THIS -->
    <p class="mt-2">
      <a href="privacy.html" class="underline hover:text-white">Privacy</a>
      <span class="mx-2">â€¢</span>
      <a href="cookies.html" class="underline hover:text-white">Cookies</a>
    </p>
  </div>
</footer>

  <!-- JS: UI + INTELLIGENT AVAILABILITY ENGINE -->
  <script>
    // --- Mobile menu toggle ---
    document
      .getElementById("mobile-menu-button")
      .addEventListener("click", () => {
        document.getElementById("mobile-menu").classList.toggle("hidden");
      });

    // --- Scroll reveal ---
    const revealElements = document.querySelectorAll(".reveal");
    if (revealElements.length) {
      const revealObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("visible");
              revealObserver.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.12 }
      );
      revealElements.forEach((el) => revealObserver.observe(el));
    }

    // ============= INTELLIGENT AVAILABILITY ENGINE =============
    // Time utilities: minutes since midnight
    const toMinutes = (h, m) => h * 60 + m;

    function formatTimeLabel(minutes) {
      const h24 = Math.floor(minutes / 60);
      const m = minutes % 60;
      const suffix = h24 >= 12 ? "pm" : "am";
      const h12 = ((h24 + 11) % 12) + 1;
      const mStr = m.toString().padStart(2, "0");
      return `${h12}:${mStr}${suffix}`;
    }

    // TEACHING WINDOW (per evening) â€“ 18:00â€“21:00
    const EVENING_WINDOW = {
      start: toMinutes(18, 0),
      end: toMinutes(21, 0),
    };

    // ---- CONFIG: YOUR REAL EVENING BUSY BLOCKS (INCLUDING TRAVEL) ----
    // IMPORTANT: This already has travel time added.
    // If your schedule changes, just change these times and the page updates.
    const dayConfig = {
      Tuesday: {
        label: "Tuesday",
        // Busy from when you effectively leave home to when youâ€™re realistically back:
        // LS28 â†’ HX6 (lesson) â†’ LS28 again
        busyBlocks: [
          {
            start: toMinutes(18, 0), // treat 18:00â€“20:15 as fully blocked
            end: toMinutes(20, 15),
            reason: "Travel + lesson",
          },
        ],
      },
      Wednesday: {
        label: "Wednesday",
        // Two nearby lessons + travel between them
        busyBlocks: [
          {
            start: toMinutes(18, 10), // leave home / prep for first lesson
            end: toMinutes(19, 30), // back from second student
            reason: "Back-to-back local lessons + travel",
          },
        ],
      },
      Thursday: {
        label: "Thursday",
        // Overlapping lessons + travel between them â€“ safest to block 18:10â€“20:00
        busyBlocks: [
          {
            start: toMinutes(18, 10),
            end: toMinutes(20, 0),
            reason: "Overlapping lessons + travel",
          },
        ],
      },
    };

    // Compute complement of busy blocks inside the evening teaching window
    function computeAvailability(busyBlocks, window) {
      if (!busyBlocks || !busyBlocks.length) {
        return [{ start: window.start, end: window.end }];
      }

      // Sort busy blocks
      const blocks = [...busyBlocks].sort((a, b) => a.start - b.start);

      const merged = [];
      for (const b of blocks) {
        if (!merged.length) {
          merged.push({ start: b.start, end: b.end });
        } else {
          const last = merged[merged.length - 1];
          if (b.start <= last.end) {
            last.end = Math.max(last.end, b.end);
          } else {
            merged.push({ start: b.start, end: b.end });
          }
        }
      }

      const free = [];
      let cursor = window.start;

      for (const b of merged) {
        const clampedStart = Math.max(b.start, window.start);
        const clampedEnd = Math.min(b.end, window.end);

        if (clampedStart > cursor) {
          free.push({ start: cursor, end: clampedStart });
        }
        cursor = Math.max(cursor, clampedEnd);
      }

      if (cursor < window.end) {
        free.push({ start: cursor, end: window.end });
      }

      // Only keep slots that are 30 mins or longer
      return free.filter((block) => block.end - block.start >= 30);
    }

    function renderDayTimeline(dayKey, containerId) {
      const cfg = dayConfig[dayKey];
      const container = document.getElementById(containerId);
      if (!cfg || !container) return;

      const busy = cfg.busyBlocks || [];
      const free = computeAvailability(busy, EVENING_WINDOW);

      // If no free slots:
      if (!free.length) {
        container.innerHTML = `
          <div class="flex items-start gap-3 bg-brand-dark-bg/60 border border-brand-accent-dark/60 rounded-xl px-4 py-3">
            <span class="timeline-dot bg-brand-highlight"></span>
            <div>
              <p class="text-brand-text-light font-semibold">No realistic lesson slots this evening.</p>
              <p class="text-brand-text-mid text-[0.75rem]">
                This evening is fully taken up by existing students and travel.
              </p>
            </div>
          </div>
        `;
        return;
      }

      // Build busy description
      let busySummary = "";
      if (busy.length) {
        const main = busy
          .map((b) => `${formatTimeLabel(b.start)} â€“ ${formatTimeLabel(b.end)}`)
          .join(", ");
        busySummary = `
          <div class="flex items-start gap-3 bg-brand-dark-bg/50 border border-brand-accent-dark/60 rounded-xl px-4 py-3">
            <span class="timeline-dot bg-brand-highlight"></span>
            <div>
              <p class="text-brand-text-light font-semibold">Busy with lessons & travel</p>
              <p class="text-brand-text-mid text-[0.75rem]">
                Approx. busy window: <strong>${main}</strong>.
              </p>
            </div>
          </div>
        `;
      }

      const freeBlocksHtml = free
        .map(
          (slot) => `
        <div class="flex items-start gap-3 bg-brand-dark-bg/60 border border-brand-accent-light/50 rounded-xl px-4 py-3">
          <span class="timeline-dot bg-brand-accent-light"></span>
          <div class="flex-1">
            <p class="text-brand-text-light font-semibold">
              Available: ${formatTimeLabel(slot.start)} â€“ ${formatTimeLabel(
            slot.end
          )}
            </p>
            <div class="mt-1 flex items-center gap-2 text-[0.75rem] text-brand-text-mid">
              <span>Suitable for 30 or 60 minute lessons.</span>
            </div>
          </div>
        </div>
      `
        )
        .join("");

      container.innerHTML = `
        ${busySummary}
        <div class="flex items-center gap-2 mt-3 mb-2">
          <div class="timeline-dot bg-brand-accent-light"></div>
          <div class="timeline-line bg-brand-accent-light/40"></div>
          <span class="text-[0.7rem] text-brand-text-mid tracking-[0.18em] uppercase">
            Available blocks
          </span>
        </div>
        <div class="space-y-2">
          ${freeBlocksHtml}
        </div>
      `;
    }

    function computeNextAvailable() {
      const dayOrder = ["Tuesday", "Wednesday", "Thursday"];
      let bestDay = null;
      let bestSlot = null;

      for (const day of dayOrder) {
        const cfg = dayConfig[day];
        if (!cfg) continue;
        const free = computeAvailability(cfg.busyBlocks, EVENING_WINDOW);
        if (!free.length) continue;

        const firstSlot = free[0];
        if (
          !bestSlot ||
          firstSlot.start < bestSlot.start ||
          (firstSlot.start === bestSlot.start &&
            dayOrder.indexOf(day) < dayOrder.indexOf(bestDay))
        ) {
          bestDay = day;
          bestSlot = firstSlot;
        }
      }

      const target = document.getElementById("next-available-text");
      if (!target) return;

      if (!bestSlot) {
        target.innerHTML =
          "There are currently no standard evening slots available this week. Please get in touch to check for cancellations or holiday-time daytime lessons.";
        return;
      }

      target.innerHTML = `
        Earliest weekly slot: <strong>${bestDay}</strong>,
        <strong>${formatTimeLabel(bestSlot.start)} â€“ ${formatTimeLabel(
        bestSlot.end
      )}</strong>.
        Perfect for a ${bestSlot.end - bestSlot.start >= 60 ? "30 or 60" : "30"} minute lesson.
      `;
    }

    // Render all days
    renderDayTimeline("Tuesday", "tuesday-slots");
    renderDayTimeline("Wednesday", "wednesday-slots");
    renderDayTimeline("Thursday", "thursday-slots");
    computeNextAvailable();
  </script>
</body>
</html>
