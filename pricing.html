<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Fees & Policy – Elliot Wardill Mobile Music Lessons</title>
    <link rel="icon" href="/favicon.png" type="image/png">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark-bg': '#1a1a2e',
                        'brand-accent-light': '#00d084',
                        'brand-accent-dark': '#00a36e',
                        'brand-text-light': '#e0e0e0',
                        'brand-text-mid': '#a0e0e0',
                        'brand-highlight': '#ffb703',
                        'card-bg': '#252538',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Montserrat', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Montserrat:wght@700;800;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            color: #e0e0e0;
            background-image: radial-gradient(circle at 100% 100%, #252538 0%, #1a1a2e 70%);
        }

        /* Card glow + lift (match homepage) */
        .card-glow {
            box-shadow:
                0 10px 30px rgba(0, 208, 132, 0.12),
                0 3px 10px rgba(0, 0, 0, 0.6);
        }
        .hover-lift {
            transition:
                transform 0.25s ease,
                box-shadow 0.25s ease,
                border-color 0.2s ease,
                background-color 0.2s ease;
        }
        .hover-lift:hover {
            transform: translateY(-4px);
        }

        .glow-title {
            text-shadow: 0 0 14px rgba(0, 208, 132, 0.35);
        }

        /* Scroll reveal */
        .reveal {
            opacity: 0;
            transform: translateY(24px);
            transition:
                opacity 0.8s ease-out,
                transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .reveal.delayed-1 { transition-delay: 0.15s; }
        .reveal.delayed-2 { transition-delay: 0.30s; }

        /* Spinner */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.25);
            border-top: 4px solid #ffb703;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Autocomplete dropdown */
        #autocomplete-container {
            position: relative;
        }
        #autocomplete-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            margin-top: 4px;
            z-index: 40;
            background-color: #1a1a2e;
            border: 1px solid #00a36e;
            border-radius: 0.7rem;
            overflow: hidden;
            max-height: 220px;
            overflow-y: auto;
        }
        .autocomplete-item {
            padding: 9px 12px;
            cursor: pointer;
            font-size: 0.8rem;
            color: #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.15s ease;
        }
        .autocomplete-item span.code {
            font-weight: 600;
        }
        .autocomplete-item span.label {
            opacity: 0.8;
        }
        .autocomplete-item:hover {
            background-color: rgba(0, 208, 132, 0.18);
        }

        /* Policy text */
        .policy-content p {
            margin-bottom: 1rem;
            line-height: 1.7;
            color: #a0a0a0;
        }
        .policy-content h4 {
            font-weight: 700;
            color: #e0e0e0;
            margin-top: 1.6rem;
            margin-bottom: 0.4rem;
            font-size: 1.15rem;
        }

        /* Map thumbnail */
        #map-card {
            display: none;
        }
        #map-thumbnail {
            border-radius: 0.9rem;
            box-shadow:
                0 8px 20px rgba(0, 208, 132, 0.25),
                0 2px 8px rgba(0, 0, 0, 0.5);
        }

        /* Full policy expand transition */
        #full-policy-text {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease;
        }
        #full-policy-text.open {
            max-height: 540px; /* scrollable area */
        }
    </style>

    <!-- Lucide Icons -->
    <script type="module">
        import {
            createIcons,
            Music2, Mail, MapPin, Zap, BookOpen, Clock, Users, Star
        } from 'https://cdn.jsdelivr.net/npm/lucide@latest/dist/esm/lucide.js';

        createIcons({
            icons: { Music2, Mail, MapPin, Zap, BookOpen, Clock, Users, Star }
        });
    </script>
</head>
<body class="min-h-screen flex flex-col text-brand-text-light">
    <!-- NAVIGATION (same style as homepage) -->
    <nav class="bg-brand-dark-bg/90 backdrop-blur border-b border-brand-accent-dark/40 text-white sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="index.html" class="flex items-center space-x-2">
                    <span class="inline-flex items-center justify-center w-9 h-9 rounded-full bg-brand-accent-light/10 border border-brand-accent-light/50">
                        <i data-lucide="music-2" class="w-5 h-5 text-brand-accent-light"></i>
                    </span>
                    <span class="text-sm sm:text-base font-heading font-extrabold tracking-[0.18em] text-brand-highlight">
                        ELLIOT'S MOBILE MUSIC
                    </span>
                </a>

                <!-- Desktop nav -->
                <div class="hidden sm:flex sm:space-x-4 text-xs md:text-sm">
                    <a href="index.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                        HOME
                    </a>
                    <a href="pricing.html" class="border-b-2 border-brand-accent-light text-brand-accent-light px-3 py-2 font-medium hover-lift">
                        PRICING & FEES
                    </a>
                    <a href="availability.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                        AVAILABILITY
                    </a>
                    <a href="contact.html" class="border-b-2 border-transparent hover:border-brand-accent-light hover:text-white text-brand-text-mid px-3 py-2 font-medium hover-lift">
                        CONTACT
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="sm:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-300 hover:text-white hover:bg-brand-accent-dark focus:outline-none focus:ring-2 focus:ring-white">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                             viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div class="sm:hidden hidden" id="mobile-menu">
            <div class="pt-2 pb-3 space-y-1 px-3 text-sm">
                <a href="index.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">HOME</a>
                <a href="pricing.html" class="block rounded-md bg-brand-accent-dark text-white px-3 py-2 font-medium">PRICING & FEES</a>
                <a href="availability.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">AVAILABILITY</a>
                <a href="contact.html" class="block rounded-md text-brand-text-mid hover:bg-brand-accent-dark px-3 py-2 font-medium">CONTACT</a>
            </div>
        </div>
    </nav>

    <!-- MAIN -->
    <main class="flex-grow">
        <!-- HEADER -->
        <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 sm:pt-24 pb-10 text-center reveal">
            <p class="text-xs font-semibold tracking-[0.3em] text-brand-highlight uppercase mb-3">
                FEES · TRAVEL · POLICY
            </p>
            <h1 class="font-heading text-4xl sm:text-5xl lg:text-6xl font-extrabold glow-title mb-4">
                Lesson Fees & Policy
            </h1>
            <p class="text-base sm:text-lg text-brand-text-mid max-w-2xl mx-auto">
                Clear, transparent pricing for mobile piano and singing lessons, including travel from <strong>Pudsey (LS28)</strong>.
            </p>
        </section>

        <!-- SMART TRAVEL CALCULATOR + MAP -->
        <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
            <div class="grid lg:grid-cols-[1.65fr,1.1fr] gap-8 items-start">
                <!-- Calculator card -->
                <div class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-6 sm:p-7 reveal">
                    <div class="flex items-center justify-between mb-4">
                        <div class="text-left">
                            <h2 class="font-heading text-2xl sm:text-3xl font-bold text-brand-highlight mb-1">
                                Calculate Your Final Lesson Price
                            </h2>
                            <p class="text-xs sm:text-sm text-brand-text-mid">
                                Uses live driving distance from <strong>Pudsey (LS28)</strong> to your postcode.
                            </p>
                        </div>
                        <span class="hidden sm:inline-flex items-center text-[0.7rem] px-3 py-1 rounded-full border border-brand-accent-light text-brand-text-mid">
                            Live distance · Travel time · Fair capped fee
                        </span>
                    </div>

                    <!-- Inputs -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <label for="lesson-duration" class="block text-xs font-semibold text-brand-text-mid mb-1">
                                Lesson length
                            </label>
                            <select id="lesson-duration"
                                    class="w-full p-3 rounded-lg bg-brand-dark-bg border border-brand-accent-dark/70 text-white text-sm focus:border-brand-accent-light focus:ring-2 focus:ring-brand-accent-light/40">
                                <option value="30">30 Minutes – £15.00</option>
                                <option value="60" selected>60 Minutes – £30.00</option>
                                <option value="90">90 Minutes – £50.00</option>
                            </select>
                        </div>

                        <div id="autocomplete-container" class="md:col-span-2">
                            <label for="postcode-input" class="block text-xs font-semibold text-brand-text-mid mb-1">
                                Your postcode (or area)
                            </label>
                            <input
                                type="text"
                                id="postcode-input"
                                placeholder="e.g. LS28 7AA, LS12, BD17…"
                                class="w-full p-3 rounded-lg bg-brand-dark-bg border border-brand-accent-dark/70 text-white text-sm focus:border-brand-accent-light focus:ring-2 focus:ring-brand-accent-light/40 uppercase"
                                autocomplete="off"
                            >
                            <div id="autocomplete-list" class="hidden"></div>
                            <p class="mt-1 text-[0.7rem] text-brand-text-mid">
                                Suggestions: LS28 (Pudsey), LS12, LS13, LS18, LS21, BD10, BD17, HX1…
                            </p>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="flex flex-col sm:flex-row gap-3 mb-4">
                        <button id="check-fee-button"
                                class="flex-1 inline-flex items-center justify-center px-4 py-3 rounded-lg bg-brand-accent-dark hover:bg-brand-accent-light text-white font-semibold text-sm shadow-lg shadow-brand-accent-light/30 transition transform hover:scale-[1.02]">
                            <span id="button-text">Calculate Final Price</span>
                            <span id="loading-spinner" class="spinner ml-3 hidden"></span>
                        </button>
                        <button id="use-location-button"
                                class="inline-flex items-center justify-center px-4 py-3 rounded-lg border border-brand-highlight/70 text-brand-highlight text-xs sm:text-sm font-semibold hover:bg-brand-highlight/10 transition">
                            Try "use my location"
                        </button>
                    </div>

                    <!-- Result -->
                    <div id="fee-result"
                         class="mt-4 p-4 rounded-xl border border-brand-accent-light/40 bg-brand-dark-bg/70 text-sm hidden">
                    </div>

                    <!-- Tips / error -->
                    <p id="fee-note" class="mt-3 text-[0.72rem] text-brand-text-mid">
                        Tip: If the estimate looks unusual (for example, you’re right on the edge of a postcode area),
                        just send Elliot a quick message – he’ll manually check and confirm the fairest price.
                    </p>
                    <p id="fee-error" class="mt-2 text-xs text-red-400 hidden"></p>
                </div>

                <!-- Map + quick bands -->
                <div class="space-y-4 reveal delayed-1">
                    <!-- Map card -->
                    <div id="map-card" class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-4">
                        <div class="flex items-center justify-between mb-3">
                            <div>
                                <p class="text-xs font-semibold tracking-[0.22em] uppercase text-brand-highlight mb-1">
                                    ROUTE PREVIEW
                                </p>
                                <p class="text-xs text-brand-text-mid" id="map-route-label">
                                    From Pudsey (LS28) to…
                                </p>
                            </div>
                        </div>
                        <a id="map-link" href="#" target="_blank" rel="noopener noreferrer">
                            <img id="map-thumbnail" src="" alt="Route map" class="w-full h-40 object-cover">
                        </a>
                        <p class="mt-2 text-[0.7rem] text-brand-text-mid">
                            Opens the full route in Google Maps so you can see exactly where the travel distance comes from.
                        </p>
                    </div>

                    <!-- Band explanation card -->
                    <div class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-4">
                        <h3 class="font-heading text-lg font-bold text-brand-accent-light mb-2 flex items-center">
                            <i data-lucide="map-pin" class="w-4 h-4 mr-2 text-brand-highlight"></i>
                            How travel fees work
                        </h3>
                        <p class="text-xs text-brand-text-mid mb-3">
                            Travel is based on the <strong>driving distance</strong> from Pudsey (LS28) to your lesson location.
                            The calculator above does this automatically using live mapping.
                        </p>
                        <ul class="text-xs text-brand-text-mid space-y-1">
                            <li><span class="text-brand-accent-light font-semibold">Under 5 miles:</span> £0.00 travel</li>
                            <li><span class="text-brand-accent-light font-semibold">5 – 10 miles:</span> £5.00</li>
                            <li><span class="text-brand-accent-light font-semibold">10 – 15 miles:</span> £10.00</li>
                            <li><span class="text-brand-accent-light font-semibold">15+ miles:</span> £20.00 (capped max)</li>
                        </ul>
                        <p class="mt-2 text-[0.7rem] text-brand-highlight/80">
                            The calculator also shows an approximate travel time, which Elliot uses when planning his route between students.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- STANDARD RATES -->
        <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
            <div class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-6 sm:p-7 reveal">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-5">
                    <div>
                        <h2 class="font-heading text-2xl sm:text-3xl font-bold text-brand-accent-light mb-1">
                            Standard Lesson Rates
                        </h2>
                        <p class="text-xs sm:text-sm text-brand-text-mid">
                            These are the base lesson prices before any travel fee is applied.
                        </p>
                    </div>
                    <div class="text-xs sm:text-sm text-brand-text-mid">
                        <p class="font-semibold text-brand-highlight">Payment options:</p>
                        <p>Cash at the lesson or bank transfer in advance.</p>
                    </div>
                </div>

                <div class="overflow-x-auto rounded-lg border border-brand-accent-dark/60">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-brand-accent-dark text-brand-dark-bg">
                            <tr>
                                <th class="px-5 py-3 font-semibold">Lesson Type</th>
                                <th class="px-5 py-3 font-semibold">Duration</th>
                                <th class="px-5 py-3 font-semibold">Base Fee</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="bg-brand-dark-bg/60 border-t border-brand-accent-dark/50">
                                <td class="px-5 py-3 font-semibold text-brand-text-light">Introductory Lesson</td>
                                <td class="px-5 py-3 text-brand-text-mid">One-off taster session</td>
                                <td class="px-5 py-3 text-brand-highlight font-extrabold">£10.00</td>
                            </tr>
                            <tr class="bg-card-bg/80 border-t border-brand-accent-dark/40">
                                <td class="px-5 py-3 font-semibold text-brand-text-light">Standard Lesson</td>
                                <td class="px-5 py-3 text-brand-text-mid">30 Minutes</td>
                                <td class="px-5 py-3">£15.00</td>
                            </tr>
                            <tr class="bg-brand-dark-bg/60 border-t border-brand-accent-dark/40">
                                <td class="px-5 py-3 font-semibold text-brand-text-light">Standard Lesson</td>
                                <td class="px-5 py-3 text-brand-text-mid">60 Minutes</td>
                                <td class="px-5 py-3">£30.00</td>
                            </tr>
                            <tr class="bg-card-bg/80 border-t border-brand-accent-dark/40">
                                <td class="px-5 py-3 font-semibold text-brand-text-light">Extended Session</td>
                                <td class="px-5 py-3 text-brand-text-mid">90 Minutes</td>
                                <td class="px-5 py-3">£50.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- TRAVEL & CANCELLATION -->
        <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Travel bands -->
                <div class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-6 reveal">
                    <h3 class="font-heading text-2xl font-bold text-brand-accent-light mb-3 flex items-center">
                        <i data-lucide="map-pin" class="w-5 h-5 mr-2 text-brand-highlight"></i>
                        Travel Bands (from Pudsey, LS28)
                    </h3>
                    <p class="text-xs sm:text-sm text-brand-text-mid mb-4">
                        These bands are automatically applied by the calculator using live driving distance. They’re also capped so longer journeys stay reasonable.
                    </p>
                    <ul class="text-sm text-brand-text-mid space-y-2">
                        <li><strong class="text-brand-accent-light">Under 5 miles:</strong> no travel fee added.</li>
                        <li><strong class="text-brand-accent-light">5 – 10 miles:</strong> £5.00 added to the lesson fee.</li>
                        <li><strong class="text-brand-accent-light">10 – 15 miles:</strong> £10.00 added to the lesson fee.</li>
                        <li><strong class="text-brand-accent-light">15+ miles:</strong> £20.00 max (capped) – usually for out-of-area or one-off bookings.</li>
                    </ul>
                    <p class="mt-3 text-[0.72rem] text-brand-highlight/80">
                        If you’re unsure which band applies, use the calculator above or just send your postcode and Elliot will confirm the exact price.
                    </p>
                </div>

                <!-- Cancellation policy -->
                <div class="bg-card-bg/90 rounded-2xl border border-brand-accent-dark/60 card-glow p-6 reveal delayed-1">
                    <h3 class="font-heading text-2xl font-bold text-brand-accent-light mb-3 flex items-center">
                        <span class="text-brand-highlight mr-2 text-xl">❌</span>
                        Cancellation Policy
                    </h3>
                    <ul class="list-disc ml-5 space-y-3 text-sm text-brand-text-mid">
                        <li><strong>24 hours’ notice</strong> is required for cancelling or rescheduling a lesson.</li>
                        <li>Cancellations with <strong>less than 24 hours’ notice</strong> may be charged <strong>50% of the lesson fee</strong>.</li>
                        <li>If Elliot ever needs to cancel a lesson, it will be <strong>rearranged at no extra cost</strong> to you.</li>
                    </ul>
                    <p class="mt-3 text-[0.75rem] text-brand-text-mid">
                        The goal is always to be fair and flexible – this policy is simply to protect Elliot’s time when routes and slots are planned in advance.
                    </p>
                </div>
            </div>
        </section>

        <!-- FULL POLICY -->
        <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
            <div class="bg-brand-dark-bg/80 rounded-2xl border border-brand-accent-dark/60 card-glow p-5 sm:p-6 reveal">
                <button id="toggle-policy"
                        class="w-full flex items-center justify-between px-4 py-3 rounded-lg bg-brand-accent-dark hover:bg-brand-accent-light text-white font-semibold text-sm sm:text-base transition">
                    <span>View Full Music Lesson Policy Document</span>
                    <span id="toggle-icon" class="text-lg">▼</span>
                </button>

                <div id="full-policy-text"
                     class="policy-content mt-4 p-4 border border-brand-accent-dark/60 rounded-lg bg-card-bg/80 overflow-y-auto">
                    <h3 class="font-heading text-2xl font-bold text-brand-highlight mb-3">
                        Elliot Wardill – Mobile Music Lesson Policy
                    </h3>

                    <p>
                        Hello, and thank you for your interest in music lessons. I’m <strong>Elliot Wardill</strong>, a musician
                        and educator based in <strong>Pudsey</strong>. I have been playing piano and singing for several years
                        and currently work within the education sector. This policy is here to keep things clear, fair, and
                        straightforward for everyone.
                    </p>

                    <p>
                        I bring the equipment needed for your lessons (including a keyboard where required) to your home,
                        so there is no need for you to travel. Lessons are designed to be friendly, relaxed, and tailored
                        to each student’s goals.
                    </p>

                    <h4>1. Safety and Safeguarding</h4>
                    <p>
                        I hold a valid <strong>DBS check</strong> for working with children. Parents and guardians are always
                        welcome to sit in on lessons, especially for younger students.
                    </p>
                    <p>
                        If your child is enrolled at <strong>Stanningley Primary School</strong>, any safeguarding concerns or
                        disclosures made during lessons will be reported directly to the school’s safeguarding leads in line
                        with their procedures.
                    </p>

                    <h4>2. Lesson Fees and Payment</h4>
                    <p>
                        <strong>Introductory lesson:</strong> £10 (one-off first session).<br>
                        <strong>Standard lessons:</strong> 30 minutes – £15 · 60 minutes – £30 · 90 minutes – £50.
                    </p>
                    <p>
                        Any applicable travel fee is added based on the driving distance calculated from <strong>Pudsey (LS28)</strong>
                        to your postcode, using the bands shown above.
                    </p>
                    <p>
                        Payment can be made in cash at the lesson or via bank transfer in advance, depending on what suits you best.
                    </p>

                    <h4>3. Cancellations and Rescheduling</h4>
                    <p>
                        Please give at least <strong>24 hours’ notice</strong> if you need to cancel or move a lesson.
                        Cancellations with less than 24 hours’ notice may be charged at <strong>50% of the lesson fee</strong>.
                    </p>
                    <p>
                        If I ever need to cancel a lesson myself, it will be <strong>rearranged at no extra cost</strong> to you.
                    </p>

                    <h4>4. Lesson Style and Structure</h4>
                    <p>
                        Lessons are tailored to each student’s age, interests, and goals. Some students focus on pop songs
                        and performance, others prefer a more structured approach, including music reading and theory.
                    </p>
                    <p>
                        We’ll typically include a warm-up, core song or piece work, and a short recap at the end – plus
                        suggestions for what to practise between sessions.
                    </p>

                    <h4>5. Travel and Area Covered</h4>
                    <p>
                        I am based in <strong>Pudsey (LS28)</strong> and travel to surrounding areas across West Leeds and
                        nearby Bradford / Halifax postcodes. Travel fees are based on the approximate driving distance
                        from my base to your postcode:
                    </p>
                    <ul class="list-disc ml-5">
                        <li><strong>Under 5 miles:</strong> £0.00</li>
                        <li><strong>5 – 10 miles:</strong> £5.00</li>
                        <li><strong>10 – 15 miles:</strong> £10.00</li>
                        <li><strong>15+ miles:</strong> £20.00 (capped maximum)</li>
                    </ul>
                    <p>
                        The calculator at the top of this page uses live mapping to estimate this automatically. If your
                        location sits on a boundary or is unusual, I’ll always double-check and keep it fair.
                    </p>

                    <h4>6. Availability</h4>
                    <p>
                        My typical teaching times are:
                    </p>
                    <ul class="list-disc ml-5">
                        <li><strong>Tuesday – Thursday:</strong> 6pm – 9pm</li>
                        <li><strong>Weekends:</strong> Available on request</li>
                        <li><strong>Monday & Friday:</strong> No regular teaching slots</li>
                    </ul>
                    <p>
                        Availability can change slightly during term-time and holidays, but I will always keep you updated
                        and work with you to find a slot that fits.
                    </p>

                    <h4>7. Photo and Video Consent</h4>
                    <p>
                        Occasionally I may ask to take short photos or videos for use on social media or my website, mainly
                        to celebrate progress or share musical moments.
                    </p>
                    <p>
                        This is <strong>always optional</strong> and based on written consent. Only first names are used and no
                        contact details or exact locations are ever shared. Consent can be withdrawn at any time by email.
                    </p>

                    <h4>8. Contact Details</h4>
                    <p>
                        If you have any questions about this policy or would like to discuss lessons:
                    </p>
                    <p>
                        Phone: <strong>07368 975144</strong><br>
                        Email: <strong>elliotmobilemusic@gmail.com</strong>
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="bg-gray-900 text-brand-text-mid py-7 mt-2">
        <div class="max-w-6xl mx-auto px-4 text-center text-xs sm:text-sm">
            <p>&copy; 2024 Elliot Wardill Mobile Music Lessons. All rights reserved.</p>
            <p class="mt-1 text-gray-500">
                DBS Checked & Insured. Full lesson policy and travel information provided on this page.
            </p>
        </div>
    </footer>

    <!-- MAIN SCRIPT -->
    <script>
        // ---------- GLOBAL CONFIG ----------
        const BASE_ORIGIN = "Pudsey, LS28"; // starting point
        const LESSON_RATES = { 30: 15.00, 60: 30.00, 90: 50.00 };
        const LOCAL_SUGGESTIONS = [
            { code: "LS28", label: "Pudsey / Stanningley (base area)" },
            { code: "LS12", label: "Farnley / Armley / Bramley" },
            { code: "LS13", label: "Bramley / Rodley" },
            { code: "LS18", label: "Horsforth" },
            { code: "LS21", label: "Otley / Pool" },
            { code: "LS6",  label: "Headingley / Meanwood" },
            { code: "LS16", label: "Adel / Cookridge" },
            { code: "BD10", label: "Thackley / Idle" },
            { code: "BD17", label: "Baildon / Shipley" },
            { code: "HX1",  label: "Halifax" }
        ];
        let mapsReady = false;

        // ---------- UTILITIES ----------
        function normalisePostcode(value) {
            if (!value) return "";
            return value.trim().toUpperCase();
        }

        function getOutwardFromPostcode(pc) {
            if (!pc) return "";
            const cleaned = pc.replace(/\s+/g, "");
            const match = cleaned.match(/^([A-Z]{1,2}[0-9][A-Z0-9]?)/);
            return match ? match[1] : cleaned;
        }

        function getTravelBand(distanceMiles) {
            let band = "Under 5 miles";
            let fee = 0;
            let colour = "text-brand-accent-light";

            if (distanceMiles >= 5 && distanceMiles < 10) {
                band = "5 – 10 miles";
                fee = 5;
                colour = "text-brand-highlight";
            } else if (distanceMiles >= 10 && distanceMiles < 15) {
                band = "10 – 15 miles";
                fee = 10;
                colour = "text-brand-highlight";
            } else if (distanceMiles >= 15) {
                band = "15+ miles (capped)";
                fee = 20;
                colour = "text-red-400";
            }

            return { band, fee, colour };
        }

        function showError(msg) {
            const error = document.getElementById("fee-error");
            error.textContent = msg;
            error.classList.remove("hidden");
        }

        function clearError() {
            const error = document.getElementById("fee-error");
            error.textContent = "";
            error.classList.add("hidden");
        }

        function showResult(html) {
            const box = document.getElementById("fee-result");
            box.innerHTML = html;
            box.classList.remove("hidden");
        }

        function hideResult() {
            const box = document.getElementById("fee-result");
            box.classList.add("hidden");
            box.innerHTML = "";
        }

        function setLoading(isLoading) {
            const btnText = document.getElementById("button-text");
            const spinner = document.getElementById("loading-spinner");
            const button = document.getElementById("check-fee-button");

            if (isLoading) {
                btnText.textContent = "Calculating…";
                spinner.classList.remove("hidden");
                button.disabled = true;
                button.classList.add("opacity-80");
            } else {
                btnText.textContent = "Calculate Final Price";
                spinner.classList.add("hidden");
                button.disabled = false;
                button.classList.remove("opacity-80");
            }
        }

        function updateMapThumbnail(destinationPostcode) {
            const mapCard = document.getElementById("map-card");
            const mapImg = document.getElementById("map-thumbnail");
            const link = document.getElementById("map-link");
            const label = document.getElementById("map-route-label");

            if (!destinationPostcode) {
                mapCard.style.display = "none";
                return;
            }

            const escapedDest = encodeURIComponent(destinationPostcode);
            const escapedOrigin = encodeURIComponent(BASE_ORIGIN);

            const staticUrl = `https://maps.googleapis.com/maps/api/staticmap?size=600x320&scale=2&maptype=roadmap&markers=color:green|${escapedOrigin}&markers=color:red|${escapedDest}&path=color:0x00d084ff|weight:4|${escapedOrigin}|${escapedDest}&key=YOUR_GOOGLE_MAPS_API_KEY_HERE`;

            const mapsLink = `https://www.google.com/maps/dir/?api=1&origin=${escapedOrigin}&destination=${escapedDest}&travelmode=driving`;

            mapImg.src = staticUrl;
            link.href = mapsLink;
            label.textContent = `From Pudsey (LS28) to ${destinationPostcode}`;
            mapCard.style.display = "block";
        }

        // ---------- GOOGLE DISTANCE CALL ----------
        function getDistanceAndDuration(destination, callback) {
            if (!window.google || !google.maps || !google.maps.DistanceMatrixService) {
                callback(new Error("Map service is still loading. Please try again in a moment."));
                return;
            }

            const service = new google.maps.DistanceMatrixService();
            service.getDistanceMatrix(
                {
                    origins: [BASE_ORIGIN],
                    destinations: [destination],
                    travelMode: "DRIVING",
                    unitSystem: google.maps.UnitSystem.METRIC
                },
                (response, status) => {
                    if (status !== "OK" || !response.rows || !response.rows[0] || !response.rows[0].elements[0]) {
                        callback(new Error("Couldn't get a distance from Google Maps for that postcode."));
                        return;
                    }
                    const element = response.rows[0].elements[0];
                    if (element.status !== "OK") {
                        callback(new Error("That postcode looks tricky to route to – please check it or contact Elliot."));
                        return;
                    }

                    const distanceMeters = element.distance.value;
                    const durationSeconds = element.duration.value;

                    const miles = distanceMeters / 1609.34;
                    const minutes = Math.round(durationSeconds / 60);

                    callback(null, { miles, minutes });
                }
            );
        }

        // ---------- MAIN CALCULATION ----------
        function calculatePrice(useStoredPostcode) {
            clearError();
            hideResult();

            const durationEl = document.getElementById("lesson-duration");
            const postcodeEl = document.getElementById("postcode-input");

            const duration = parseInt(durationEl.value, 10);
            const baseFee = LESSON_RATES[duration];

            let inputPc = normalisePostcode(postcodeEl.value);
            if (useStoredPostcode && !inputPc) {
                const lastPc = localStorage.getItem("ew_last_postcode");
                if (lastPc) {
                    inputPc = lastPc;
                    postcodeEl.value = lastPc;
                }
            }

            if (!inputPc) {
                showError("Please enter a postcode or outward code (e.g. LS28, LS12, BD17).");
                return;
            }

            setLoading(true);

            const outward = getOutwardFromPostcode(inputPc);

            // Try to be helpful with small typos like LS22R → LS22
            let suggested = "";
            if (!/[0-9][A-Z]{2}$/.test(inputPc) && inputPc.length > 3) {
                suggested = outward;
            }

            getDistanceAndDuration(inputPc, (err, result) => {
                setLoading(false);

                if (err) {
                    showError(err.message);
                    updateMapThumbnail(null);
                    return;
                }

                const { miles, minutes } = result;
                const milesRounded = miles.toFixed(1);
                const { band, fee: travelFee, colour } = getTravelBand(miles);

                const total = baseFee + travelFee;

                // Persist last used values
                localStorage.setItem("ew_last_postcode", inputPc);
                localStorage.setItem("ew_last_duration", String(duration));

                // Build result HTML
                const resultHtml = `
                    <div class="flex flex-col gap-4 text-left">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                            <div>
                                <p class="text-xs text-brand-text-mid">Destination postcode:</p>
                                <p class="text-sm font-semibold text-brand-text-light">${inputPc}</p>
                                <p class="text-xs text-brand-text-mid mt-1">
                                    Approx. driving distance from Pudsey (LS28): <span class="font-semibold">${milesRounded} miles</span>
                                    <br>
                                    Typical driving time: <span class="font-semibold">${minutes} minutes</span>
                                    <br>
                                    Travel band: <span class="${colour} font-semibold">${band}</span>
                                </p>
                            </div>
                            <div class="text-right text-xs sm:text-sm">
                                <p>Lesson fee (${duration} minutes): <span class="font-semibold text-brand-text-light">£${baseFee.toFixed(2)}</span></p>
                                <p>Travel fee: <span class="${colour} font-semibold">£${travelFee.toFixed(2)}</span></p>
                            </div>
                        </div>
                        <div class="pt-3 border-t border-brand-accent-light/40">
                            <p class="text-brand-highlight text-2xl sm:text-3xl font-extrabold">
                                Total estimated price: £${total.toFixed(2)}
                            </p>
                            <p class="text-[0.75rem] text-brand-text-mid mt-1">
                                This is an estimate based on live mapping. If traffic or routing looks unusual, Elliot will always confirm a fair final price with you directly.
                            </p>
                            ${
                                suggested && suggested !== inputPc
                                    ? `<p class="text-[0.7rem] text-brand-text-mid mt-1">
                                           Did you mean <span class="font-semibold">${suggested}</span>? If not, the calculator has still used <span class="font-semibold">${inputPc}</span> exactly as entered.
                                       </p>`
                                    : ""
                            }
                        </div>
                    </div>
                `;

                showResult(resultHtml);
                updateMapThumbnail(inputPc);
            });
        }

        // ---------- AUTOCOMPLETE ----------
        function setupAutocomplete() {
            const input = document.getElementById("postcode-input");
            const list = document.getElementById("autocomplete-list");

            function closeList() {
                list.innerHTML = "";
                list.classList.add("hidden");
            }

            input.addEventListener("input", () => {
                const value = normalisePostcode(input.value);
                if (!value) {
                    closeList();
                    return;
                }

                const matches = LOCAL_SUGGESTIONS.filter(item =>
                    item.code.startsWith(value) || item.label.toUpperCase().includes(value)
                );

                if (!matches.length) {
                    closeList();
                    return;
                }

                list.innerHTML = "";
                matches.forEach(item => {
                    const div = document.createElement("div");
                    div.className = "autocomplete-item";
                    div.innerHTML = `
                        <span class="code">${item.code}</span>
                        <span class="label">${item.label}</span>
                    `;
                    div.addEventListener("click", () => {
                        input.value = item.code;
                        closeList();
                        calculatePrice(false);
                    });
                    list.appendChild(div);
                });
                list.classList.remove("hidden");
            });

            document.addEventListener("click", (e) => {
                if (!document.getElementById("autocomplete-container").contains(e.target)) {
                    closeList();
                }
            });
        }

        // ---------- GEOLOCATION BUTTON ----------
        function useMyLocation() {
            clearError();
            if (!navigator.geolocation) {
                showError("Your browser doesn't support location access. Please type your postcode instead.");
                return;
            }

            setLoading(true);
            navigator.geolocation.getCurrentPosition(
                (pos) => {
                    const coords = `${pos.coords.latitude},${pos.coords.longitude}`;
                    // We can feed the lat/lng directly into google distance matrix as destination
                    getDistanceAndDuration(coords, (err, result) => {
                        if (err) {
                            setLoading(false);
                            showError("Location found, but couldn't calculate a route. Please try manually entering your postcode.");
                            return;
                        }

                        setLoading(false);

                        const outwardGuess = "Your location";
                        const inputEl = document.getElementById("postcode-input");
                        inputEl.value = outwardGuess;

                        const durationEl = document.getElementById("lesson-duration");
                        const duration = parseInt(durationEl.value, 10);
                        const baseFee = LESSON_RATES[duration];

                        const { miles, minutes } = result;
                        const milesRounded = miles.toFixed(1);
                        const { band, fee: travelFee, colour } = getTravelBand(miles);
                        const total = baseFee + travelFee;

                        const html = `
                            <div class="flex flex-col gap-4 text-left">
                                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                                    <div>
                                        <p class="text-xs text-brand-text-mid">Location detected via GPS</p>
                                        <p class="text-sm font-semibold text-brand-text-light">Approximate area near you</p>
                                        <p class="text-xs text-brand-text-mid mt-1">
                                            Distance from Pudsey (LS28): <span class="font-semibold">${milesRounded} miles</span><br>
                                            Typical driving time: <span class="font-semibold">${minutes} minutes</span><br>
                                            Travel band: <span class="${colour} font-semibold">${band}</span>
                                        </p>
                                    </div>
                                    <div class="text-right text-xs sm:text-sm">
                                        <p>Lesson fee (${duration} minutes): <span class="font-semibold text-brand-text-light">£${baseFee.toFixed(2)}</span></p>
                                        <p>Travel fee: <span class="${colour} font-semibold">£${travelFee.toFixed(2)}</span></p>
                                    </div>
                                </div>
                                <div class="pt-3 border-t border-brand-accent-light/40">
                                    <p class="text-brand-highlight text-2xl sm:text-3xl font-extrabold">
                                        Total estimated price: £${total.toFixed(2)}
                                    </p>
                                    <p class="text-[0.75rem] text-brand-text-mid mt-1">
                                        For a precise quote, Elliot may still ask for your exact postcode – but this gives a good idea based on your approximate location.
                                    </p>
                                </div>
                            </div>
                        `;
                        showResult(html);
                        updateMapThumbnail(null); // no exact postcode to show, so hide route map
                    });
                },
                () => {
                    setLoading(false);
                    showError("Couldn’t access your location. Please type your postcode instead.");
                }
            );
        }

        // ---------- UI WIRES + SCROLL REVEAL ----------
        document.addEventListener("DOMContentLoaded", () => {
            // Mobile menu
            const mobileBtn = document.getElementById("mobile-menu-button");
            const mobileMenu = document.getElementById("mobile-menu");
            if (mobileBtn && mobileMenu) {
                mobileBtn.addEventListener("click", () => {
                    mobileMenu.classList.toggle("hidden");
                });
            }

            // Scroll reveal
            const reveals = document.querySelectorAll(".reveal");
            if (reveals.length) {
                const obs = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("visible");
                            obs.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.15 });

                reveals.forEach(el => obs.observe(el));
            }

            // Full policy toggle
            const toggleBtn = document.getElementById("toggle-policy");
            const policyText = document.getElementById("full-policy-text");
            const icon = document.getElementById("toggle-icon");
            if (toggleBtn && policyText && icon) {
                toggleBtn.addEventListener("click", () => {
                    const isOpen = policyText.classList.toggle("open");
                    icon.textContent = isOpen ? "▲" : "▼";
                });
            }

            // Autocomplete
            setupAutocomplete();

            // Calculator buttons
            document.getElementById("check-fee-button").addEventListener("click", () => calculatePrice(false));
            document.getElementById("use-location-button").addEventListener("click", useMyLocation);
            document.getElementById("postcode-input").addEventListener("keypress", (e) => {
                if (e.key === "Enter") {
                    e.preventDefault();
                    calculatePrice(false);
                }
            });

            // Restore last values
            const lastPc = localStorage.getItem("ew_last_postcode");
            const lastDuration = localStorage.getItem("ew_last_duration");
            if (lastPc) {
                document.getElementById("postcode-input").value = lastPc;
            }
            if (lastDuration && LESSON_RATES[lastDuration]) {
                document.getElementById("lesson-duration").value = lastDuration;
            }
        });

        // Called by Google Maps JS when it finishes loading
        function initMaps() {
            mapsReady = true;
        }
        window.initMaps = initMaps; // ensure global
    </script>

    <!-- GOOGLE MAPS (PUT YOUR REAL KEY IN THE URL) -->
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCztWhTrSCVgN1VrzKupHOdpWNreLuvTGs&libraries=places&callback=initMaps">
    </script>
</body>
</html>
